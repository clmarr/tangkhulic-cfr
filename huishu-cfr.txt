$Rebecca's rules for Huishu

c > t͡s / # __

$vowels go to e before t, which Rebecca seems to note feeds j epenthesis for ʃut, tʰat, hrit, ʃat, thus coming before it. 
{u;a;i;ɐ} > {e;e;e;e} / __ t

ɐ > e / __ p

$ɨ to u, before u-conditioned final k-insertion
ɨ > u

$the following before a > e / __ j, before j-deletion and before j-epenthesis (hrit > rejʔ). 
[+syl,-hi,-lo] > u / __ j

$j-epenthesis, before final t-glottalization (ʃɐt > tsejʔ)
∅ > j / e __ t #


$ vowel changes before k, which must happen before final k-insertion. Does not impact a:. 
{o;i;a} > {u;o;o} / __ k

$ final stop glottalization. Rebecca notes it comes before i > o (apparentlly conditioned on this) and before a secondary word final k-insertion after u (e.g. bʷu > vuk). Since these are the only final stops, can just formulate the target as [-cont]. 
[-cont] > ʔ / __ #

$ tense nonhigh vowels to o before w. 
[+tense,-hi] > o / __ w

$ final k insertion after u and i. Must come before o and ɐ secondarily become u in final positions. After a > i but before i > e. 
∅ > k / [+hi,+syl] __ #

$ uj to u, after e > u / __ j and after final k insertion. 
j > ∅ / u __ #

$vowel changes before r, generally involving backing and rounding. Must happen before final r effacement. Distinguishes short and long a. 
{o;i;a;ɐ;e} > {u;u;o;o;ɐ} / __ r

$word-final vowel changes. After final j deletion, after pre-rhotic vowel changes, now before final engma deletion.
{o;a;e;ɐ} > {u;e;i;u} / __ #

$vowel changes before engma. Distinguishes long and short a; must be before final engma deletion
{o;a;i} > {u;o;ɐ} / __ ŋ 

$engma deletion after a:, o, u, e. Of course short a has just become o in this position. So this can be formulated in terms of context as [-hi,+tense,+syl]. Comes before e and o get raised before coda. Described as before V V > V but this seems unnecessary since it would have been before a if all aŋ sequences were disturbed by the previous rule. 
ŋ > ∅ / {[+tense,+syl,-hi];u} __ #

$word-final r effacement moved here, per Rebecca's sub-bullet point in vowel-final changes rules. TODO check this with her. 
r > ∅ / __ #

$TODO insert j-deletion here, per Rebecca's sub-bullet point in the following rule noting that j-deletion precedes word final vowel changes. 

$cluster simplification rules.
$ w effacement -- but this is before h-effacement 
w > ∅ / [-syl] __

$ d effacement. Before l-deletion. 
d > ∅ / __ [-syl] 

$ h effacement. Before r-effacement. 
h > ∅ / __ [-syl]

$ l effacement and r effacement. 
[+son,+cons,+cor] > ∅ / [-syl] __ 

$ d-rhotation word initially, prevocalic
d > r / # __ [+syl] 
 
$ ʃ-fronting initially 
ʃ > s / # __ 

$ pre-n vowel changes. Before n iotation and n > ŋ 
{ɐ;a;i;u;o} > {e;e;ɐ;ɐ;ɐ} / __ n

$ n-iotation. Must be after prenasal vowel changes. 
n > j / e __ #

$ pre-j vowel changes. 
$ now just of a > e; e > u now much earlier. Before j-deletion, before n > j, after j-insertion.
a > e / __ j

{i;u} > {ɐ;ɐ} / __ m

$ prelateral l and n > ŋ ŋ. Distinct treatment of long and short vowels maintains. 
{u;o;i} > {ɐ;ɐ;ɐ} / __ l

$ l and n become engma finally after ɐ. After u and o become ɐ, and ɐ > e phenomena. 
{l;n} > {ŋ;ŋ} / ɐ __ #

$ b bʰ bʷ become v. Later, remaining rounded consonants pass to w. 
[-cont,+voi,+lab] > v / # __

$remaining rounded consonants pass to w.
[-syl,+lab,+round] > w / # __

$initial t- to k- 
t > k / # __ 